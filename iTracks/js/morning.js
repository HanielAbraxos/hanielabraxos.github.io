function createLandscape(e){var t,n,a,i,o=document.querySelector(".landscape"),r=window.innerWidth,s=window.innerHeight,u={x:0,y:0,xDamped:0,yDamped:0},m=void 0!==window.orientation;function l(){(l=new THREE.Sky).scale.setScalar(45e4),l.material.uniforms.turbidity.value=20,l.material.uniforms.rayleigh.value=0,l.material.uniforms.luminance.value=1,l.material.uniforms.mieCoefficient.value=.01,l.material.uniforms.mieDirectionalG.value=.8,t.add(l),sunSphere=new THREE.Mesh(new THREE.SphereBufferGeometry(2e4,16,8),new THREE.MeshBasicMaterial({color:16777215})),sunSphere.visible=!1,t.add(sunSphere);var e=-.02*Math.PI,n=2*Math.PI*-.25;sunSphere.position.x=4e5*Math.cos(n),sunSphere.position.y=4e5*Math.sin(n)*Math.sin(e),sunSphere.position.z=4e5*Math.sin(n)*Math.cos(e),l.material.uniforms.sunPosition.value.copy(sunSphere.position)}function d(){r=window.innerWidth,s=window.innerHeight,a.aspect=r/s,a.updateProjectionMatrix(),n.setSize(r,s)}function c(e){var t,n;e.preventDefault(),"mousemove"==e.type?(t=e.clientX,n=e.clientY):(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY),u.x=t,u.y=n}function p(){requestAnimationFrame(p),u.xDamped=h(u.xDamped,u.x,.1),u.yDamped=h(u.yDamped,u.y,.1);var e=.001*performance.now();i.material.uniforms.time.value=e,i.material.uniforms.distortCenter.value=f(u.xDamped,0,r,-.1,.1),i.material.uniforms.roadWidth.value=f(u.yDamped,0,s,-.5,2.5),n.render(t,a)}function f(e,t,n,a,i){return a+(e-t)/(n-t)*(i-a)}function h(e,t,n){return(1-n)*e+n*t}!function(){(function(){t=new THREE.Scene;var e=new THREE.Color(16777215);t.background=e,t.fog=new THREE.Fog(e,10,400),l(),(a=new THREE.PerspectiveCamera(60,r/s,.1,1e4)).position.y=8,a.position.z=4,ambientLight=new THREE.AmbientLight(16777215,1),t.add(ambientLight),(n=new THREE.WebGLRenderer({canvas:o,antialias:!0})).setPixelRatio=devicePixelRatio,n.setSize(r,s)})(),u=new THREE.PlaneBufferGeometry(100,400,400,400),f={time:{type:"f",value:0},distortCenter:{type:"f",value:.1},roadWidth:{type:"f",value:.5},pallete:{type:"t",value:null},speed:{type:"f",value:.5},maxHeight:{type:"f",value:10},color:new THREE.Color(1,1,1)},h=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.basic.uniforms,f]),vertexShader:document.getElementById("custom-vertex").textContent,fragmentShader:document.getElementById("custom-fragment").textContent,wireframe:!1,fog:!0}),(i=new THREE.Mesh(u,h)).position.z=-180,i.rotation.x=-Math.PI/2,void t.add(i),void(new THREE.TextureLoader).load(e.palleteImage,(function(e){i.material.uniforms.pallete.value=e,i.material.needsUpdate=!0})),p(),m?window.addEventListener("touchmove",c,{passive:!1}):window.addEventListener("mousemove",c);var u,f,h;window.addEventListener("resize",d),d()}()}createLandscape({palleteImage:"img/pallete5.png"});const getRandomNumber=(e,t)=>Math.random()*(t-e)+e;function animateTitles(){const e=document.querySelector(".overlay"),t=document.querySelector(".content__title");charming(t);const n=Array.from(t.querySelectorAll("span"));TweenMax.to(e,2,{ease:Quad.easeOut,opacity:0}),TweenMax.set(n,{opacity:0}),TweenMax.staggerTo(n,1.5,{ease:Expo.easeOut,startAt:{rotationX:-100,z:-1e3},opacity:1,rotationX:0,z:0},.1);const a=document.querySelector(".content__subtitle");TweenMax.set(a,{opacity:0}),TweenMax.to(a,1.5,{ease:Expo.easeOut,startAt:{y:30},opacity:1,y:0});const i=(e,t)=>{0===t||t>3||(TweenMax.set(e,{x:getRandomNumber(-20,20),y:getRandomNumber(-20,20),color:["#95dc77","#f3eb8a","#f9b97f"][t-1]}),setTimeout((()=>{TweenMax.set(e,{x:0,y:0,color:"#fff"}),i(e,t-1)}),getRandomNumber(20,100)))},o=e=>{this.timeout=setTimeout((()=>{const e=n.sort(((e,t)=>.5-Math.random())).slice(0,getRandomNumber(1,n.length+1));for(let t=0,n=e.length;t<n-1;++t)i(e[t],3);o()}),e||getRandomNumber(500,3e3))};o(1500)}animateTitles();