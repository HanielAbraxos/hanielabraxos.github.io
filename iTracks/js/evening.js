function createLandscape(e){var t,a,n,i,o=document.querySelector(".landscape"),r=window.innerWidth,s=window.innerHeight,u={x:0,y:0,xDamped:0,yDamped:0},m=void 0!==window.orientation;function l(){(l=new THREE.Sky).scale.setScalar(45e4),l.material.uniforms.turbidity.value=13,l.material.uniforms.rayleigh.value=1.2,l.material.uniforms.luminance.value=1,l.material.uniforms.mieCoefficient.value=.1,l.material.uniforms.mieDirectionalG.value=.58,t.add(l),sunSphere=new THREE.Mesh(new THREE.SphereBufferGeometry(2e4,16,8),new THREE.MeshBasicMaterial({color:16777215})),sunSphere.visible=!1,t.add(sunSphere);var e=-.002*Math.PI,a=2*Math.PI*-.25;sunSphere.position.x=4e5*Math.cos(a),sunSphere.position.y=4e5*Math.sin(a)*Math.sin(e),sunSphere.position.z=4e5*Math.sin(a)*Math.cos(e),l.material.uniforms.sunPosition.value.copy(sunSphere.position)}function d(){r=window.innerWidth,s=window.innerHeight,n.aspect=r/s,n.updateProjectionMatrix(),a.setSize(r,s)}function c(e){var t,a;e.preventDefault(),"mousemove"==e.type?(t=e.clientX,a=e.clientY):(t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY),u.x=t,u.y=a}function p(){requestAnimationFrame(p),u.xDamped=h(u.xDamped,u.x,.1),u.yDamped=h(u.yDamped,u.y,.1);var e=.001*performance.now();i.material.uniforms.time.value=e,i.material.uniforms.scroll.value=e+f(u.yDamped,0,s,0,4),i.material.uniforms.distortCenter.value=.1*Math.sin(e),i.material.uniforms.roadWidth.value=f(u.xDamped,0,r,1,4.5),n.position.y=f(u.yDamped,0,s,4,11),a.render(t,n)}function f(e,t,a,n,i){return n+(e-t)/(a-t)*(i-n)}function h(e,t,a){return(1-a)*e+a*t}!function(){(function(){t=new THREE.Scene;var e=new THREE.Color(3355443);t.background=e,t.fog=new THREE.Fog(e,0,400),l(),(n=new THREE.PerspectiveCamera(60,r/s,.1,1e4)).position.y=8,n.position.z=4,ambientLight=new THREE.AmbientLight(16777215,1),t.add(ambientLight),(a=new THREE.WebGLRenderer({canvas:o,antialias:!0})).setPixelRatio=devicePixelRatio,a.setSize(r,s)})(),u=new THREE.PlaneBufferGeometry(100,400,400,400),f={time:{type:"f",value:0},scroll:{type:"f",value:0},distortCenter:{type:"f",value:.1},roadWidth:{type:"f",value:.5},pallete:{type:"t",value:null},speed:{type:"f",value:3},maxHeight:{type:"f",value:10},color:new THREE.Color(1,1,1)},h=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.basic.uniforms,f]),vertexShader:document.getElementById("custom-vertex").textContent,fragmentShader:document.getElementById("custom-fragment").textContent,wireframe:!1,fog:!0}),(i=new THREE.Mesh(u,h)).position.z=-180,i.rotation.x=-Math.PI/2,void t.add(i),void(new THREE.TextureLoader).load(e.palleteImage,(function(e){i.material.uniforms.pallete.value=e,i.material.needsUpdate=!0})),p(),m?window.addEventListener("touchmove",c,{passive:!1}):window.addEventListener("mousemove",c);var u,f,h;window.addEventListener("resize",d),d()}()}createLandscape({palleteImage:"img/pallete.png"});const getRandomNumber=(e,t)=>Math.random()*(t-e)+e;function animateTitles(){const e=document.querySelector(".overlay"),t=document.querySelector(".content__title");charming(t);const a=Array.from(t.querySelectorAll("span"));TweenMax.to(e,2,{ease:Quad.easeOut,opacity:0}),TweenMax.set(a,{opacity:0}),TweenMax.staggerTo(a,1.5,{ease:Expo.easeOut,startAt:{rotationX:-100,z:-1e3},opacity:1,rotationX:0,z:0},.1);const n=document.querySelector(".content__subtitle");TweenMax.set(n,{opacity:0}),TweenMax.to(n,1.5,{ease:Expo.easeOut,startAt:{y:30},opacity:1,y:0});const i=(e,t)=>{0===t||t>3||(TweenMax.set(e,{x:getRandomNumber(-20,20),y:getRandomNumber(-20,20),color:["#f4d339","#df003f","#111111"][t-1]}),setTimeout((()=>{TweenMax.set(e,{x:0,y:0,color:"#fff"}),i(e,t-1)}),getRandomNumber(20,100)))},o=e=>{this.timeout=setTimeout((()=>{const e=a.sort(((e,t)=>.5-Math.random())).slice(0,getRandomNumber(1,a.length+1));for(let t=0,a=e.length;t<a-1;++t)i(e[t],3);o()}),e||getRandomNumber(500,3e3))};o(1500)}animateTitles();